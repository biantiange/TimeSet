<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.timeset.photo.mapper.PhotoMapper">

    <insert id="addPhoto" useGeneratedKeys="true">
        insert into photo(album_id,pdescribe,ptime,place,path,identify) values(#{album_id},#{pdescribe},#{ptime},#{place},#{path},#{identify})
    </insert>

    <delete id="deletePhoto">
        delete from photo where id = #{id}
    </delete>

    <select id="findAll" resultType="com.timeset.photo.entity.Photo">
        select * from photo
    </select>

    <select id="findByAlbum" resultType="com.timeset.photo.entity.Photo">
        select * from photo where album_id=#{albumId}
    </select>

    <select id="findByTime" resultType="com.timeset.photo.entity.Photo">
        select * from photo where ptime=#{ptime}
    </select>

    <select id="findPlace" resultType="com.timeset.photo.entity.Photo">
        select * from photo where place like "%"#{place}"%"
    </select>

    <select id="findDescribe" resultType="com.timeset.photo.entity.Photo">
        select * from photo where pdescribe like "%"#{pdescribe}"%"
    </select>

    <select id="findIdentify" resultType="com.timeset.photo.entity.Photo">
        select * from photo where identify like "%"#{identify}"%"
    </select>


</mapper>